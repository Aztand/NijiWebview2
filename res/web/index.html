<html>
<head>
    <meta charset="utf-8">
    <title>你的日记</title>
    <link rel="preload" href="write.svg" as="image">
    <link rel="preload" href="pic.svg" as="image">
    <link rel="preload" href="new.svg" as="image">
    <link rel="preload" href="save.svg" as="image">
    <link rel="preload" href="delete.svg" as="image">
    <link rel="stylesheet" type="text/css" href="index.css">
    <script src="moment.js"></script>
</head>
<body>

    <div id="left-navigation">
        <div id="logo"></div>
        <div id="icon-list">
            <div class = "nav-icon" id="write-logo"></div>     
            <div class="seperate-line"></div>
            <div class = "nav-icon" id="gallery-logo"></div>
            <div class = "nav-icon" id="treehole-logo" hidden></div>   
        </div>
    </div>

    <div class = "right-page" id="right-diary"><!--用于查看编辑日记的右侧主页面-->
        <div id="diary-card-list">
                        <!-- 修改模板字段匹配 -->
            <template id="diary-card-template">
                <div class="diary-card {{cardStyle}}" owner="{{cardOwner}}" id="{{cardDiaryId}}" data-user-id="{{cardUserID}}" data-created-date="{{createdDate}}" data-readmark="{{cardReadmark}}">
                <div class="card-left">
                    <div class="card-day">{{cardDay}}</div>
                    <div class="card-week">{{cardWeek}}</div>
                </div>
                <div class="card-right">
                    <div class="card-time">{{cardWriteTime}}</div>
                    <div class="card-title">{{cardTitle}}</div>
                    <div class="card-simple">{{cardSimple}}</div>
                </div>
                </div>
            </template>
        </div>

        <div id="write-page">
            <div id="date-picker-container">
                <input id="date-input" type="date" title="这里只用来选择保存日期，而不能跳转日记哦">
            </div>
            <input id="title-input" type="text" placeholder="日记标题">

            <div id="title-line"></div>  

            <div class="toggle-switch">
                <button id="preview-mode" class="active">预览</button>
                <button id="edit-mode" >编辑</button>
            </div>

            <textarea id="diary-input" placeholder="请输入..."></textarea>
            <div id="preview-content" class="hidden"></div>
            <p id="count-and-readmark"><span id="word-count">0字</span><span id="readmark-text"></span></p>
            <div id="floatMenuBar">
                <div class="floatMenuButton" id="newMenuButton" hidden></div>
                <div class="floatMenuButton" id="saveMenuButton" hidden></div>
                <div class="floatMenuButton" id="deleteMenuButton" hidden></div>      
            </div>

        </div>

        <div id="user-profile">
            <div id="user-avatar">
                <img src="logo.png" id="avatar-img" alt="用户头像">
            </div>
            <div id="user-info-card">
                <h3 id="username-h3">立花 泷</h3>
                <p id="description">✒️ 我一定会找到你的……</p>
                <p id="paired-info">🙏 断连第445天</p>
                <div class="info-line"></div>
                <p id="write-statistic">📝 251篇 | 274532字 | 134图</p>
                <p id="logout">退出登录</p>
            </div>
        </div>

    </div>
    
    <div class = "right-page hidden" id="right-gallery">
        <div id = "upload-container">
            <div id = "upload-frame">
                <label for="pic-upload" class="upload-prompt-text">点击文字或拖拽文件到这里上传</span>
                <input type="file" id="pic-upload" >
            </div>
            <div id = "upload-button-area">
                <button id = "upload-btn">开始上传</button >
                <button id = "QRcode-btn">扫码快传</button >
                    <div id = "QRcode-card">
                        <span>请一张一张图选择哦</span>
                        <img id="QRcode-img">
                    </div>
            </div>
        </div>
        <div id = "upload-preview-list" class="hidden">
            <template id="upload-preview-template">
                <img class="upload-preview"  id="{{previewId}}" src="{{previewSrc}}">
            </template>
        </div>
        <div id = "gallery-container">
            <template id="pic-template">
                <div class="pic-container">
                    <div class="pic-background">
                        <img id="{{inListPicId}}" src="{{inListPicSrc}}" loading = "lazy" alt = "图片加载失败，或您的pro已过期">
                    </div>
                    <p>图{{picNum}}</p>
                </div>
            </template>
        </div>
    </div>
    <script src="index.js"></script>

</body>
</html>